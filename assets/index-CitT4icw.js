(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))f(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const S of n.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&f(S)}).observe(document,{childList:!0,subtree:!0});function y(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function f(o){if(o.ep)return;o.ep=!0;const n=y(o);fetch(o.href,n)}})();const H="/gala-clicker/galaStudent.webp",K="/gala-clicker/galaTrainee.webp",V="/gala-clicker/galaJunior.webp",_="/gala-clicker/galaMiddle.webp",j="/gala-clicker/galaSenior.webp",z="/gala-clicker/galaTeamLead.webp",Q="/gala-clicker/galaGoogle.webp";if(window.Telegram.WebApp){const u=window.Telegram.WebApp;console.log("tg",u);const i=u.initDataUnsafe,y=u.initData;console.log("user",i),console.log("user2",y);const f=document.getElementById("user");f.innerHTML=`
        <p>First Name: ${u.initDataUnsafe}</p>
        <p>Last Name: ${i.last_name}</p>
        <p>Username: ${i.username}</p>
        <p>User ID: ${i.id}</p>
    `,document.addEventListener("DOMContentLoaded",()=>{const o=document.querySelectorAll("nav ul li a"),n=document.querySelectorAll(".section");o.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const c=t.target.getAttribute("data-section");n.forEach(l=>{l.id===c?l.classList.add("active"):l.classList.remove("active")})})}),document.querySelectorAll("img").forEach(e=>{e.addEventListener("contextmenu",t=>t.preventDefault()),e.setAttribute("draggable","false")});const r=document.querySelector("#circle"),q=document.querySelector("#score"),k=document.querySelector("#daily-score"),N=document.querySelector("#monthly-score"),P=document.querySelector("#total-score"),X=document.querySelector("#progress-fill"),Y=document.querySelector("#clicks-left"),G=document.querySelector("#available-lines");let s=localStorage.getItem("availableLines")?Number(localStorage.getItem("availableLines")):100,p=null,x=null;const g=[{id:1,name:"Student",numberOfCodeLines:0,imgUrl:H,xlevel:1,maxLines:100},{id:2,name:"Trainee",numberOfCodeLines:1e4,imgUrl:K,xlevel:1,maxLines:100},{id:3,name:"Junior",numberOfCodeLines:1e5,imgUrl:V,xlevel:5,maxLines:200},{id:4,name:"Middle",numberOfCodeLines:1e6,imgUrl:_,xlevel:10,maxLines:400},{id:5,name:"Senior",numberOfCodeLines:1e7,imgUrl:j,xlevel:15,maxLines:600},{id:6,name:"Team Lead",numberOfCodeLines:1e8,imgUrl:z,xlevel:25,maxLines:800},{id:7,name:"Google",numberOfCodeLines:1e9,imgUrl:Q,xlevel:50,maxLines:999}];function B(e){F(),J(),h(a()),I($()),C(w()),O(T()),U(),A(),D(),v(),s<d(a()).maxLines&&(p=setInterval(M,1e3))}function h(e){localStorage.setItem("score",e),q.textContent=e}function I(e){localStorage.setItem("dailyScore",e),k.textContent=e}function C(e){localStorage.setItem("monthlyScore",e),N.textContent=e}function O(e){localStorage.setItem("totalScore",e),P.textContent=e}function a(){return Number(localStorage&&localStorage.getItem("score"))||0}function $(){return Number(localStorage.getItem("dailyScore"))||0}function w(){return Number(localStorage.getItem("monthlyScore"))||0}function T(){return Number(localStorage.getItem("totalScore"))||0}function F(){const e=localStorage.getItem("lastUpdated"),t=new Date().toISOString().split("T")[0];e!==t&&(localStorage.setItem("dailyScore",0),localStorage.setItem("lastUpdated",t))}function J(){const e=localStorage.getItem("lastUpdatedMonthly"),t=new Date().toISOString().slice(0,7);e!==t&&(localStorage.setItem("monthlyScore",0),localStorage.setItem("lastUpdatedMonthly",t))}function R(){if(s>0){const e=a(),t=d(e),c=a()+t.xlevel,l=$()+t.xlevel,L=w()+t.xlevel,b=T()+t.xlevel;s-=1,localStorage.setItem("availableLines",s),h(c),I(l),C(L),O(b),U(),A(),D(),v(),clearTimeout(x),clearInterval(p),x=setTimeout(()=>{p=setInterval(M,1e3)},5e3)}else{r.classList.add("grayscale");return}}function U(){const e=a(),t=E(e),c=d(e),l=(e-c.numberOfCodeLines)/(t.numberOfCodeLines-c.numberOfCodeLines)*100;X.style.width=`${l}%`}function D(){const e=a(),t=E(e),c=d(e),l=Math.ceil((t.numberOfCodeLines-e)/c.xlevel);Y.textContent=`Lines left level ${t.name}: ${l}`}function A(){const e=a(),t=d(e);r.setAttribute("src",`${t.imgUrl}`)}function v(){const e=a(),t=d(e);G.textContent=`${s} / ${t.maxLines}`}function M(){const e=a(),t=d(e);s<t.maxLines?(s+=1,localStorage.setItem("availableLines",s),v(),s>0&&r.classList.remove("grayscale")):clearInterval(p)}function d(e){return g.slice().reverse().find(t=>e>=t.numberOfCodeLines)||g[0]}function E(e){return g.find(t=>e<t.numberOfCodeLines)||g[g.length-1]}r.addEventListener("click",e=>{const t=r.getBoundingClientRect(),c=e.clientX-t.left-t.width/2,l=e.clientY-t.top-t.height/2,L=40,b=l/t.height*L,W=c/t.width*-L;r.style.setProperty("--tiltX",`${b}deg`),r.style.setProperty("--tiltY",`${W}deg`),setTimeout(()=>{r.style.setProperty("--tiltX","0deg"),r.style.setProperty("--tiltY","0deg")},200);const m=document.createElement("div");m.classList.add("plusone"),m.textContent=`+${d(a()).xlevel}`,m.style.left=`${e.clientX-t.left}px`,m.style.top=`${e.clientY-t.top}px`,r.parentElement.appendChild(m),R(),setTimeout(()=>{m.remove()},2e3)}),B()}),u.ready()}else console.error("Telegram Web Apps API is not available.");

(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const f of r.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function g(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(o){if(o.ep)return;o.ep=!0;const r=g(o);fetch(o.href,r)}})();const J="/gala-clicker/galaStudent.webp",R="/gala-clicker/galaTrainee.webp",B="/gala-clicker/galaJunior.webp",W="/gala-clicker/galaMiddle.webp",z="/gala-clicker/galaSenior.webp",H="/gala-clicker/galaTeamLead.webp",K="/gala-clicker/galaGoogle.webp";function D(){const d=document.querySelectorAll("nav ul li a"),n=document.querySelectorAll(".section");d.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const s=t.target.getAttribute("data-section");n.forEach(c=>{c.id===s?c.classList.add("active"):c.classList.remove("active")})})}),document.querySelectorAll("img").forEach(e=>{e.addEventListener("contextmenu",t=>t.preventDefault()),e.setAttribute("draggable","false")});const l=document.querySelector("#circle"),o=document.querySelector("#score"),r=document.querySelector("#daily-score"),f=document.querySelector("#monthly-score"),E=document.querySelector("#total-score"),k=document.querySelector("#progress-fill"),N=document.querySelector("#clicks-left"),P=document.querySelector("#available-lines");let i=localStorage.getItem("availableLines")?Number(localStorage.getItem("availableLines")):100,p=null,b=null;const S=[{id:1,name:"Student",numberOfCodeLines:0,imgUrl:J,xlevel:1,maxLines:100},{id:2,name:"Trainee",numberOfCodeLines:1e4,imgUrl:R,xlevel:1,maxLines:100},{id:3,name:"Junior",numberOfCodeLines:1e5,imgUrl:B,xlevel:5,maxLines:200},{id:4,name:"Middle",numberOfCodeLines:1e6,imgUrl:W,xlevel:10,maxLines:400},{id:5,name:"Senior",numberOfCodeLines:1e7,imgUrl:z,xlevel:15,maxLines:600},{id:6,name:"Team Lead",numberOfCodeLines:1e8,imgUrl:H,xlevel:25,maxLines:800},{id:7,name:"Google",numberOfCodeLines:1e9,imgUrl:K,xlevel:50,maxLines:999}];function X(e){Y(),G(),x(a()),h(w()),I(O()),C($()),T(),A(),U(),y(),i<u(a()).maxLines&&(p=setInterval(M,1e3))}function x(e){localStorage.setItem("score",e),o.textContent=e}function h(e){localStorage.setItem("dailyScore",e),r.textContent=e}function I(e){localStorage.setItem("monthlyScore",e),f.textContent=e}function C(e){localStorage.setItem("totalScore",e),E.textContent=e}function a(){return Number(localStorage&&localStorage.getItem("score"))||0}function w(){return Number(localStorage.getItem("dailyScore"))||0}function O(){return Number(localStorage.getItem("monthlyScore"))||0}function $(){return Number(localStorage.getItem("totalScore"))||0}function Y(){const e=localStorage.getItem("lastUpdated"),t=new Date().toISOString().split("T")[0];e!==t&&(localStorage.setItem("dailyScore",0),localStorage.setItem("lastUpdated",t))}function G(){const e=localStorage.getItem("lastUpdatedMonthly"),t=new Date().toISOString().slice(0,7);e!==t&&(localStorage.setItem("monthlyScore",0),localStorage.setItem("lastUpdatedMonthly",t))}function _(){if(i>0){const e=a(),t=u(e),s=a()+t.xlevel,c=w()+t.xlevel,L=O()+t.xlevel,v=$()+t.xlevel;i-=1,localStorage.setItem("availableLines",i),x(s),h(c),I(L),C(v),T(),A(),U(),y(),clearTimeout(b),clearInterval(p),b=setTimeout(()=>{p=setInterval(M,1e3)},5e3)}else{l.classList.add("grayscale");return}}function T(){const e=a(),t=q(e),s=u(e),c=(e-s.numberOfCodeLines)/(t.numberOfCodeLines-s.numberOfCodeLines)*100;k.style.width=`${c}%`}function U(){const e=a(),t=q(e),s=u(e),c=Math.ceil((t.numberOfCodeLines-e)/s.xlevel);N.textContent=`Lines left level ${t.name}: ${c}`}function A(){const e=a(),t=u(e);l.setAttribute("src",`${t.imgUrl}`)}function y(){const e=a(),t=u(e);P.textContent=`${i} / ${t.maxLines}`}function M(){const e=a(),t=u(e);i<t.maxLines?(i+=1,localStorage.setItem("availableLines",i),y(),i>0&&l.classList.remove("grayscale")):clearInterval(p)}function u(e){return S.slice().reverse().find(t=>e>=t.numberOfCodeLines)||S[0]}function q(e){return S.find(t=>e<t.numberOfCodeLines)||S[S.length-1]}l.addEventListener("click",e=>{const t=l.getBoundingClientRect(),s=e.clientX-t.left-t.width/2,c=e.clientY-t.top-t.height/2,L=40,v=c/t.height*L,F=s/t.width*-L;l.style.setProperty("--tiltX",`${v}deg`),l.style.setProperty("--tiltY",`${F}deg`),setTimeout(()=>{l.style.setProperty("--tiltX","0deg"),l.style.setProperty("--tiltY","0deg")},200);const m=document.createElement("div");m.classList.add("plusone"),m.textContent=`+${u(a()).xlevel}`,m.style.left=`${e.clientX-t.left}px`,m.style.top=`${e.clientY-t.top}px`,l.parentElement.appendChild(m),_(),setTimeout(()=>{m.remove()},2e3)}),X()}if(window.Telegram&&window.Telegram.WebApp){const d=window.Telegram.WebApp,n=d.initDataUnsafe.user,g=document.querySelector(".user__info");g&&(g.innerHTML=`<p>First Name: ${n?n.first_name:""}</p> <p>Last Name: ${n?n.last_name:""}</p> <p>Level: ${n?n.username:""}</p> <p>User ID: ${n?n.id:""}</p>`),D(),d.expand(),d.ready()}else D();

(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))g(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const n of l.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&g(n)}).observe(document,{childList:!0,subtree:!0});function L(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function g(o){if(o.ep)return;o.ep=!0;const l=L(o);fetch(o.href,l)}})();const W="/gala-clicker/galaStudent.webp",_="/gala-clicker/galaTrainee.webp",H="/gala-clicker/galaJunior.webp",K="/gala-clicker/galaMiddle.webp",V="/gala-clicker/galaSenior.webp",j="/gala-clicker/galaTeamLead.webp",z="/gala-clicker/galaGoogle.webp";if(window.Telegram.WebApp){const p=window.Telegram.WebApp,s=p.initDataUnsafe.user,L=document.getElementById("user");s&&(L.innerHTML=`
            <p>First Name: ${s.first_name}</p>
            <p>Last Name: ${s.last_name}</p>
            <p>Username: ${s.username}</p>
            <p>User ID: ${s.id}</p>
        `),document.addEventListener("DOMContentLoaded",()=>{const g=document.querySelectorAll("nav ul li a"),o=document.querySelectorAll(".section");g.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const c=t.target.getAttribute("data-section");o.forEach(r=>{r.id===c?r.classList.add("active"):r.classList.remove("active")})})}),document.querySelectorAll("img").forEach(e=>{e.addEventListener("contextmenu",t=>t.preventDefault()),e.setAttribute("draggable","false")});const n=document.querySelector("#circle"),E=document.querySelector("#score"),q=document.querySelector("#daily-score"),k=document.querySelector("#monthly-score"),N=document.querySelector("#total-score"),P=document.querySelector("#progress-fill"),X=document.querySelector("#clicks-left"),Y=document.querySelector("#available-lines");let i=localStorage.getItem("availableLines")?Number(localStorage.getItem("availableLines")):100,f=null,b=null;const m=[{id:1,name:"Student",numberOfCodeLines:0,imgUrl:W,xlevel:1,maxLines:100},{id:2,name:"Trainee",numberOfCodeLines:1e4,imgUrl:_,xlevel:1,maxLines:100},{id:3,name:"Junior",numberOfCodeLines:1e5,imgUrl:H,xlevel:5,maxLines:200},{id:4,name:"Middle",numberOfCodeLines:1e6,imgUrl:K,xlevel:10,maxLines:400},{id:5,name:"Senior",numberOfCodeLines:1e7,imgUrl:V,xlevel:15,maxLines:600},{id:6,name:"Team Lead",numberOfCodeLines:1e8,imgUrl:j,xlevel:25,maxLines:800},{id:7,name:"Google",numberOfCodeLines:1e9,imgUrl:z,xlevel:50,maxLines:999}];function G(e){B(),F(),x(a()),h(O()),I($()),C(w()),T(),A(),U(),y(),i<d(a()).maxLines&&(f=setInterval(M,1e3))}function x(e){localStorage.setItem("score",e),E.textContent=e}function h(e){localStorage.setItem("dailyScore",e),q.textContent=e}function I(e){localStorage.setItem("monthlyScore",e),k.textContent=e}function C(e){localStorage.setItem("totalScore",e),N.textContent=e}function a(){return Number(localStorage&&localStorage.getItem("score"))||0}function O(){return Number(localStorage.getItem("dailyScore"))||0}function $(){return Number(localStorage.getItem("monthlyScore"))||0}function w(){return Number(localStorage.getItem("totalScore"))||0}function B(){const e=localStorage.getItem("lastUpdated"),t=new Date().toISOString().split("T")[0];e!==t&&(localStorage.setItem("dailyScore",0),localStorage.setItem("lastUpdated",t))}function F(){const e=localStorage.getItem("lastUpdatedMonthly"),t=new Date().toISOString().slice(0,7);e!==t&&(localStorage.setItem("monthlyScore",0),localStorage.setItem("lastUpdatedMonthly",t))}function J(){if(i>0){const e=a(),t=d(e),c=a()+t.xlevel,r=O()+t.xlevel,S=$()+t.xlevel,v=w()+t.xlevel;i-=1,localStorage.setItem("availableLines",i),x(c),h(r),I(S),C(v),T(),A(),U(),y(),clearTimeout(b),clearInterval(f),b=setTimeout(()=>{f=setInterval(M,1e3)},5e3)}else{n.classList.add("grayscale");return}}function T(){const e=a(),t=D(e),c=d(e),r=(e-c.numberOfCodeLines)/(t.numberOfCodeLines-c.numberOfCodeLines)*100;P.style.width=`${r}%`}function U(){const e=a(),t=D(e),c=d(e),r=Math.ceil((t.numberOfCodeLines-e)/c.xlevel);X.textContent=`Lines left level ${t.name}: ${r}`}function A(){const e=a(),t=d(e);n.setAttribute("src",`${t.imgUrl}`)}function y(){const e=a(),t=d(e);Y.textContent=`${i} / ${t.maxLines}`}function M(){const e=a(),t=d(e);i<t.maxLines?(i+=1,localStorage.setItem("availableLines",i),y(),i>0&&n.classList.remove("grayscale")):clearInterval(f)}function d(e){return m.slice().reverse().find(t=>e>=t.numberOfCodeLines)||m[0]}function D(e){return m.find(t=>e<t.numberOfCodeLines)||m[m.length-1]}n.addEventListener("click",e=>{const t=n.getBoundingClientRect(),c=e.clientX-t.left-t.width/2,r=e.clientY-t.top-t.height/2,S=40,v=r/t.height*S,R=c/t.width*-S;n.style.setProperty("--tiltX",`${v}deg`),n.style.setProperty("--tiltY",`${R}deg`),setTimeout(()=>{n.style.setProperty("--tiltX","0deg"),n.style.setProperty("--tiltY","0deg")},200);const u=document.createElement("div");u.classList.add("plusone"),u.textContent=`+${d(a()).xlevel}`,u.style.left=`${e.clientX-t.left}px`,u.style.top=`${e.clientY-t.top}px`,n.parentElement.appendChild(u),J(),setTimeout(()=>{u.remove()},2e3)}),G()}),p.ready()}else console.error("Telegram Web Apps API is not available.");

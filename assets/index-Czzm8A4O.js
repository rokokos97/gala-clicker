(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))f(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&f(u)}).observe(document,{childList:!0,subtree:!0});function y(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function f(l){if(l.ep)return;l.ep=!0;const o=y(l);fetch(l.href,o)}})();const B="/gala-clicker/galaStudent.webp",F="/gala-clicker/galaTrainee.webp",K="/gala-clicker/galaJunior.webp",V="/gala-clicker/galaMiddle.webp",j="/gala-clicker/galaSenior.webp",z="/gala-clicker/galaTeamLead.webp",H="/gala-clicker/galaGoogle.webp";if(window.Telegram.WebApp){const g=window.Telegram.WebApp;console.log("tg",g);const d=g.initDataUnsafe.user;console.log("user",d),document.addEventListener("DOMContentLoaded",()=>{const y=document.querySelectorAll("nav ul li a"),f=document.querySelectorAll(".section");y.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const c=t.target.getAttribute("data-section");f.forEach(n=>{n.id===c?n.classList.add("active"):n.classList.remove("active")})})}),document.querySelectorAll("img").forEach(e=>{e.addEventListener("contextmenu",t=>t.preventDefault()),e.setAttribute("draggable","false")});const o=document.querySelector("#circle"),u=document.querySelector("#score"),q=document.querySelector("#daily-score"),D=document.querySelector("#monthly-score"),k=document.querySelector("#total-score"),P=document.querySelector("#progress-fill"),N=document.querySelector("#clicks-left"),X=document.querySelector("#available-lines");let a=localStorage.getItem("availableLines")?Number(localStorage.getItem("availableLines")):100,S=null,b=null;const m=[{id:1,name:"Student",numberOfCodeLines:0,imgUrl:B,xlevel:1,maxLines:100},{id:2,name:"Trainee",numberOfCodeLines:1e4,imgUrl:F,xlevel:1,maxLines:100},{id:3,name:"Junior",numberOfCodeLines:1e5,imgUrl:K,xlevel:5,maxLines:200},{id:4,name:"Middle",numberOfCodeLines:1e6,imgUrl:V,xlevel:10,maxLines:400},{id:5,name:"Senior",numberOfCodeLines:1e7,imgUrl:j,xlevel:15,maxLines:600},{id:6,name:"Team Lead",numberOfCodeLines:1e8,imgUrl:z,xlevel:25,maxLines:800},{id:7,name:"Google",numberOfCodeLines:1e9,imgUrl:H,xlevel:50,maxLines:999}];function Y(e){G(),J(),x(r()),h(O()),I(w()),C($()),T(),U(),A(),p(),a<s(r()).maxLines&&(S=setInterval(M,1e3))}function x(e){localStorage.setItem("score",e),u.textContent=e}function h(e){localStorage.setItem("dailyScore",e),q.textContent=e}function I(e){localStorage.setItem("monthlyScore",e),D.textContent=e}function C(e){localStorage.setItem("totalScore",e),k.textContent=e}function r(){return Number(localStorage&&localStorage.getItem("score"))||0}function O(){return Number(localStorage.getItem("dailyScore"))||0}function w(){return Number(localStorage.getItem("monthlyScore"))||0}function $(){return Number(localStorage.getItem("totalScore"))||0}function G(){const e=localStorage.getItem("lastUpdated"),t=new Date().toISOString().split("T")[0];e!==t&&(localStorage.setItem("dailyScore",0),localStorage.setItem("lastUpdated",t))}function J(){const e=localStorage.getItem("lastUpdatedMonthly"),t=new Date().toISOString().slice(0,7);e!==t&&(localStorage.setItem("monthlyScore",0),localStorage.setItem("lastUpdatedMonthly",t))}function R(){if(a>0){const e=r(),t=s(e),c=r()+t.xlevel,n=O()+t.xlevel,L=w()+t.xlevel,v=$()+t.xlevel;a-=1,localStorage.setItem("availableLines",a),x(c),h(n),I(L),C(v),T(),U(),A(),p(),clearTimeout(b),clearInterval(S),b=setTimeout(()=>{S=setInterval(M,1e3)},5e3)}else{o.classList.add("grayscale");return}}function T(){const e=r(),t=E(e),c=s(e),n=(e-c.numberOfCodeLines)/(t.numberOfCodeLines-c.numberOfCodeLines)*100;P.style.width=`${n}%`}function A(){const e=r(),t=E(e),c=s(e),n=Math.ceil((t.numberOfCodeLines-e)/c.xlevel);N.textContent=`Lines left level ${t.name}: ${n}`}function U(){const e=r(),t=s(e);o.setAttribute("src",`${t.imgUrl}`)}function p(){const e=r(),t=s(e);X.textContent=`${a} / ${t.maxLines}`}function M(){const e=r(),t=s(e);a<t.maxLines?(a+=1,localStorage.setItem("availableLines",a),p(),a>0&&o.classList.remove("grayscale")):clearInterval(S)}function s(e){return m.slice().reverse().find(t=>e>=t.numberOfCodeLines)||m[0]}function E(e){return m.find(t=>e<t.numberOfCodeLines)||m[m.length-1]}o.addEventListener("click",e=>{const t=o.getBoundingClientRect(),c=e.clientX-t.left-t.width/2,n=e.clientY-t.top-t.height/2,L=40,v=n/t.height*L,W=c/t.width*-L;o.style.setProperty("--tiltX",`${v}deg`),o.style.setProperty("--tiltY",`${W}deg`),setTimeout(()=>{o.style.setProperty("--tiltX","0deg"),o.style.setProperty("--tiltY","0deg")},200);const i=document.createElement("div");i.classList.add("plusone"),i.textContent=`+${s(r()).xlevel}`,i.style.left=`${e.clientX-t.left}px`,i.style.top=`${e.clientY-t.top}px`,o.parentElement.appendChild(i),R(),setTimeout(()=>{i.remove()},2e3)}),Y()}),g.ready()}else console.error("Telegram Web Apps API is not available.");
